/*!
 * Copyright 2017 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 * 
 *      http://aws.amazon.com/apache2.0/
 * 
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License. 
 */
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("aws-sdk/global"),require("aws-sdk/clients/cognitoidentityserviceprovider")):"function"==typeof define&&define.amd?define(["aws-sdk/global","aws-sdk/clients/cognitoidentityserviceprovider"],n):"object"==typeof exports?exports.AmazonCognitoIdentity=n(require("aws-sdk/global"),require("aws-sdk/clients/cognitoidentityserviceprovider")):t.AmazonCognitoIdentity=n(t.AWSCognito,t.AWSCognito.CognitoIdentityServiceProvider)}(this,function(t,n){return function(t){function n(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=8)}([function(t,n,e){"use strict";var s=e(5);e.n(s);/*!
 * Amazon Cognito Auth SDK for JavaScript
 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.

 * Licensed under the Apache License, Version 2.0 (the "License").
 * You may not use this file except in compliance with the License.
 * A copy of the License is located at
 *
 *         http://aws.amazon.com/apache2.0/
 *
 * or in the "license" file accompanying this file.
 * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
 * OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions
 * and limitations under the License.
 */
class o{constructor(t){this.jwtToken=t||""}getJwtToken(){return this.jwtToken}setJwtToken(t){this.jwtToken=t}getExpiration(){const t=this.jwtToken.split(".")[1];return JSON.parse(s.util.base64.decode(t).toString("utf8")).exp}getUsername(){if(null!==this.jwtToken){const t=this.jwtToken.split(".")[1];return JSON.parse(s.util.base64.decode(t).toString("utf8")).username}}}n.a=o},function(t,n,e){"use strict";var s=e(5);e.n(s);/*!
 * Amazon Cognito Auth SDK for JavaScript
 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.

 * Licensed under the Apache License, Version 2.0 (the "License").
 * You may not use this file except in compliance with the License.
 * A copy of the License is located at
 *
 *         http://aws.amazon.com/apache2.0/
 *
 * or in the "license" file accompanying this file.
 * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
 * OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions
 * and limitations under the License.
 */
class o{constructor(t){this.jwtToken=t||""}getJwtToken(){return this.jwtToken}setJwtToken(t){this.jwtToken=t}getExpiration(){const t=this.jwtToken.split(".")[1];return JSON.parse(s.util.base64.decode(t).toString("utf8")).exp}}n.a=o},function(t,n,e){"use strict";/*!
 * Amazon Cognito Auth SDK for JavaScript
 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.

 * Licensed under the Apache License, Version 2.0 (the "License").
 * You may not use this file except in compliance with the License.
 * A copy of the License is located at
 *
 *         http://aws.amazon.com/apache2.0/
 *
 * or in the "license" file accompanying this file.
 * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
 * OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions
 * and limitations under the License.
 */
class s{constructor(t){this.refreshToken=t||""}getToken(){return this.refreshToken}setToken(t){this.refreshToken=t}}n.a=s},function(t,n,e){"use strict";/*!
 * Amazon Cognito Auth SDK for JavaScript
 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.

 * Licensed under the Apache License, Version 2.0 (the "License").
 * You may not use this file except in compliance with the License.
 * A copy of the License is located at
 *
 *         http://aws.amazon.com/apache2.0/
 *
 * or in the "license" file accompanying this file.
 * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
 * OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions
 * and limitations under the License.
 */
class s{constructor(t){this.tokenScopes=t||[]}getScopes(){return this.tokenScopes}setTokenScopes(t){this.tokenScopes=t}}n.a=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e(0);e.d(n,"CognitoAccessToken",function(){return s.a});var o=e(1);e.d(n,"CognitoIdToken",function(){return o.a});var i=e(2);e.d(n,"CognitoRefreshToken",function(){return i.a});var r=e(3);e.d(n,"CognitoTokenScopes",function(){return r.a});var a=e(10);e.d(n,"CognitoAuth",function(){return a.a});var h=e(6);e.d(n,"CognitoAuthSession",function(){return h.a});var g=e(11);e.d(n,"DateHelper",function(){return g.a});var c=e(7);e.d(n,"StorageHelper",function(){return c.a})},function(n,e){n.exports=t},function(t,n,e){"use strict";var s=e(3),o=e(0),i=e(1),r=e(2);/*!
 * Amazon Cognito Auth SDK for JavaScript
 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.

 * Licensed under the Apache License, Version 2.0 (the "License").
 * You may not use this file except in compliance with the License.
 * A copy of the License is located at
 *
 *         http://aws.amazon.com/apache2.0/
 *
 * or in the "license" file accompanying this file.
 * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
 * OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions
 * and limitations under the License.
 */
class a{constructor({IdToken:IdToken,RefreshToken:RefreshToken,AccessToken:AccessToken,TokenScopes:TokenScopes}={}){this.idToken=IdToken?IdToken:new i.a,this.refreshToken=RefreshToken?RefreshToken:new r.a,this.accessToken=AccessToken?AccessToken:new o.a,this.tokenScopes=TokenScopes?TokenScopes:new s.a}getIdToken(){return this.idToken}setIdToken(t){this.idToken=t}getRefreshToken(){return this.refreshToken}setRefreshToken(t){this.refreshToken=t}getAccessToken(){return this.accessToken}setAccessToken(t){this.accessToken=t}getTokenScopes(){return this.tokenScopes}setTokenScopes(t){this.tokenScopes=t}isValid(){const t=Math.floor(new Date/1e3);try{return null!=this.accessToken?t<this.accessToken.getExpiration():null!=this.idToken&&t<this.idToken.getExpiration()}catch(t){return!1}}}n.a=a},function(t,n,e){"use strict";/*!
 * Amazon Cognito Auth SDK for JavaScript
 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.

 * Licensed under the Apache License, Version 2.0 (the "License").
 * You may not use this file except in compliance with the License.
 * A copy of the License is located at
 *
 *         http://aws.amazon.com/apache2.0/
 *
 * or in the "license" file accompanying this file.
 * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
 * OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions
 * and limitations under the License.
 */
let s={};class o{static setItem(t,n){return s[t]=n,s[t]}static getItem(t){return Object.prototype.hasOwnProperty.call(s,t)?s[t]:void 0}static removeItem(t){return delete s[t]}static clear(){return s={}}}class i{constructor(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(t){this.storageWindow=o}}getStorage(){return this.storageWindow}}n.a=i},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e(9),o=e.n(s),i=e(4);e.d(n,"CognitoAccessToken",function(){return i.CognitoAccessToken}),e.d(n,"CognitoIdToken",function(){return i.CognitoIdToken}),e.d(n,"CognitoRefreshToken",function(){return i.CognitoRefreshToken}),e.d(n,"CognitoTokenScopes",function(){return i.CognitoTokenScopes}),e.d(n,"CognitoAuth",function(){return i.CognitoAuth}),e.d(n,"CognitoAuthSession",function(){return i.CognitoAuthSession}),e.d(n,"DateHelper",function(){return i.DateHelper}),e.d(n,"StorageHelper",function(){return i.StorageHelper}),/*!
 * Amazon Cognito Auth SDK for JavaScript
 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.

 * Licensed under the Apache License, Version 2.0 (the "License").
 * You may not use this file except in compliance with the License.
 * A copy of the License is located at
 *
 *         http://aws.amazon.com/apache2.0/
 *
 * or in the "license" file accompanying this file.
 * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
 * OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions
 * and limitations under the License.
 */
Object.keys(i).forEach(t=>{o.a[t]=i[t]}),"undefined"!=typeof window&&!window.crypto&&window.msCrypto&&(window.crypto=window.msCrypto)},function(t,e){t.exports=n},function(t,n,e){"use strict";var s=e(3),o=e(0),i=e(1),r=e(2),a=e(6),h=e(7);/*!
 * Amazon Cognito Auth SDK for JavaScript
 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.

 * Licensed under the Apache License, Version 2.0 (the "License").
 * You may not use this file except in compliance with the License.
 * A copy of the License is located at
 *
 *         http://aws.amazon.com/apache2.0/
 *
 * or in the "license" file accompanying this file.
 * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
 * OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions
 * and limitations under the License.
 */
class g{constructor(t){const{ClientId:ClientId,AppWebDomain:AppWebDomain,TokenScopesArray:TokenScopesArray,RedirectUriSignIn:RedirectUriSignIn,RedirectUriSignOut:RedirectUriSignOut,IdentityProvider:IdentityProvider}=t||{};if(!(null!=t&&ClientId&&AppWebDomain&&RedirectUriSignIn&&RedirectUriSignOut))throw new Error(this.getCognitoConstants().PARAMETERERROR);if(this.clientId=ClientId,this.appWebDomain=AppWebDomain,this.identityProvider=IdentityProvider,this.TokenScopesArray=TokenScopesArray||[],!Array.isArray(TokenScopesArray))throw new Error(this.getCognitoConstants().SCOPETYPEERROR);const n=new s.a(this.TokenScopesArray);this.RedirectUriSignIn=RedirectUriSignIn,this.RedirectUriSignOut=RedirectUriSignOut,this.signInUserSession=new a.a,this.responseType=this.getCognitoConstants().TOKEN,this.storage=(new h.a).getStorage(),this.signInUserSession.setTokenScopes(n),this.username=this.getLastUser(),this.authEventListenerAttached=!1,this.attachAuthEventListener()}attachAuthEventListener(){this.authEventListenerAttached||(this.authEventListenerAttached=!0,window.addEventListener("message",t=>{t.data.location&&(this.authWindowRef&&this.authWindowRef.close&&this.authWindowRef.close(),this.parseCognitoWebResponse(t.data.location))},!1))}getCognitoConstants(){return{DOMAIN_SCHEME:"https",DOMAIN_PATH_SIGNIN:"authorize",DOMAIN_PATH_SIGNOUT:"logout",DOMAIN_QUERY_PARAM_REDIRECT_URI:"redirect_uri",DOMAIN_QUERY_PARAM_SIGNOUT_URI:"logout_uri",DOMAIN_QUERY_PARAM_RESPONSE_TYPE:"response_type",DOMAIN_QUERY_IDENTITY_PROVIDER:"identity_provider",CLIENT_ID:"client_id",STATE:"state",SCOPE:"scope",TOKEN:"token",CODE:"code",POST:"POST",PARAMETERERROR:"The parameters: App client Id, App web domain, the redirect URL when you are signed in and the redirect URL when you are signed out are required.",SCOPETYPEERROR:"Scopes have to be array type. ",QUESTIONMARK:"?",POUNDSIGN:"#",COLONDOUBLESLASH:"://",SLASH:"/",AMPERSAND:"&",EQUALSIGN:"=",SPACE:" ",CONTENTTYPE:"Content-Type",CONTENTTYPEVALUE:"application/x-www-form-urlencoded",AUTHORIZATIONCODE:"authorization_code",IDTOKEN:"id_token",ACCESSTOKEN:"access_token",REFRESHTOKEN:"refresh_token",ERROR:"error",STRINGTYPE:"string",STATELENGTH:32,STATEORIGINSTRING:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",WITHCREDENTIALS:"withCredentials",UNDEFINED:"undefined",SELF:"_self",HOSTNAMEREGEX:/:\/\/([0-9]?\.)?(.[^\/:]+)/i,HASHPARAMETERREGEX:/#(.+)/,QUERYPARAMETERREGEX1:/[?](.+)/,QUERYPARAMETERREGEX2:/=(.+)/,HEADER:{"Content-Type":"application/x-www-form-urlencoded"}}}getClientId(){return this.clientId}getAppWebDomain(){return this.appWebDomain}getCurrentUser(){const t=`CognitoIdentityServiceProvider.${this.clientId}.LastAuthUser`;return this.storage.getItem(t)}setUser(t){this.username=t}useCodeGrantFlow(){this.responseType=this.getCognitoConstants().CODE}useImplicitFlow(){this.responseType=this.getCognitoConstants().TOKEN}getSignInUserSession(){return this.signInUserSession}getUsername(){return this.username}setUsername(t){this.username=t}getSession(t){const n=this.getFQDNSignIn();if(null!=this.signInUserSession&&this.signInUserSession.isValid())return this.userhandler.onSuccess(this.signInUserSession);this.signInUserSession=this.getCachedSession();const e=new Set(this.TokenScopesArray),a=new Set(this.signInUserSession.tokenScopes.getScopes());if(t||this.compareSets(e,a)){if(this.signInUserSession.isValid())return this.userhandler.onSuccess(this.signInUserSession);this.signInUserSession.getRefreshToken()&&this.signInUserSession.getRefreshToken().getToken()?this.refreshSession(this.signInUserSession.getRefreshToken().getToken()):t||this.launchUri(n)}else{const t=new s.a(this.TokenScopesArray),e=new i.a,a=new o.a,h=new r.a;this.signInUserSession.setTokenScopes(t),this.signInUserSession.setIdToken(e),this.signInUserSession.setAccessToken(a),this.signInUserSession.setRefreshToken(h),this.launchUri(n)}}getExistingSession(){return this.getSession(!0)}parseCognitoWebResponse(t){t.indexOf(this.getCognitoConstants().QUESTIONMARK)>-1?this.getCodeQueryParameter(t):t.indexOf(this.getCognitoConstants().POUNDSIGN)>-1&&this.getTokenQueryParameter(t)}getCodeQueryParameter(t){let n=new Map;if(n=this.getQueryParameters(t,n,this.getCognitoConstants().QUERYPARAMETERREGEX1),n.has(this.getCognitoConstants().CODE)){const n=this.getCodeParameter(t),e=this.getCognitoConstants().DOMAIN_SCHEME.concat(this.getCognitoConstants().COLONDOUBLESLASH,this.getAppWebDomain(),this.getCognitoConstants().SLASH,this.getCognitoConstants().TOKEN),s=this.getCognitoConstants().HEADER,o={grant_type:this.getCognitoConstants().AUTHORIZATIONCODE,client_id:this.getClientId(),redirect_uri:this.RedirectUriSignIn,code:n},i=this.onSuccessExchangeForToken.bind(this),r=this.onFailure.bind(this);this.makePOSTRequest(s,o,e,i,r)}}getTokenQueryParameter(t){let n=new Map;n=this.getQueryParameters(t,n,this.getCognitoConstants().HASHPARAMETERREGEX);const e=new i.a,s=new o.a,a=new r.a;return t.indexOf(this.getCognitoConstants().IDTOKEN)>-1?(e.setJwtToken(n.get(this.getCognitoConstants().IDTOKEN)),this.signInUserSession.setIdToken(e)):this.signInUserSession.setIdToken(e),t.indexOf(this.getCognitoConstants().ACCESSTOKEN)>-1?(s.setJwtToken(n.get(this.getCognitoConstants().ACCESSTOKEN)),this.signInUserSession.setAccessToken(s)):this.signInUserSession.setAccessToken(s),t.indexOf(this.getCognitoConstants().REFRESHTOKEN)>-1?(a.setToken(n.get(this.getCognitoConstants().REFRESHTOKEN)),this.signInUserSession.setRefreshToken(a)):this.signInUserSession.setRefreshToken(a),this.cacheTokensScopes(),this.userhandler.onSuccess(this.signInUserSession)}getCachedSession(){if(!this.username)return new a.a;const t=`CognitoIdentityServiceProvider.${this.getClientId()}.${this.username}`,n=`${t}.idToken`,e=`${t}.accessToken`,h=`${t}.refreshToken`,g=`${t}.tokenScopesString`,c=this.storage.getItem(g);let u=[];c&&(u=c.split(" "));const C=new s.a(u),S=new i.a(this.storage.getItem(n)),T=new o.a(this.storage.getItem(e)),E=new r.a(this.storage.getItem(h)),f={IdToken:S,AccessToken:T,RefreshToken:E,TokenScopes:C};return new a.a(f)}getLastUser(){const t=`CognitoIdentityServiceProvider.${this.getClientId()}`,n=`${t}.LastAuthUser`,e=this.storage.getItem(n);if(e)return e}cacheTokensScopes(){const t=`CognitoIdentityServiceProvider.${this.getClientId()}`,n=this.signInUserSession.getAccessToken().getUsername(),e=`${t}.${n}.idToken`,s=`${t}.${n}.accessToken`,o=`${t}.${n}.refreshToken`,i=`${t}.LastAuthUser`,r=`${t}.${n}.tokenScopesString`,a=this.signInUserSession.getTokenScopes().getScopes(),h=a.join(" ");this.storage.setItem(e,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(s,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(o,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,n),this.storage.setItem(r,h)}compareSets(t,n){if(t.size!==n.size)return!1;for(const e of t)if(!n.has(e))return!1;return!0}getHostName(t){const n=t.match(this.getCognitoConstants().HOSTNAMEREGEX);if(null!=n&&n.length>2&&typeof n[2]===this.getCognitoConstants().STRINGTYPE&&n[2].length>0)return n[2]}getQueryParameters(t,n,e){const s=String(t).split(e),o=s[1],i=String(o).split(this.getCognitoConstants().AMPERSAND),r=i.length;let a;for(a=0;a<r;a++)i[a]=String(i[a]).split(this.getCognitoConstants().QUERYPARAMETERREGEX2),n.set(i[a][0],i[a][1]);return n}getCodeParameter(t){const n=String(t).split(this.getCognitoConstants().QUESTIONMARK),e=n[1];return String(e).split(this.getCognitoConstants().EQUALSIGN)[1]}generateRandomString(t,n){let e="",s=t;for(;s>0;--s)e+=n[Math.round(Math.random()*(n.length-1))];return e}clearCachedTokensScopes(){const t=`CognitoIdentityServiceProvider.${this.getClientId()}`,n=`${t}.${this.username}.idToken`,e=`${t}.${this.username}.accessToken`,s=`${t}.${this.username}.refreshToken`,o=`${t}.LastAuthUser`,i=`${t}.${this.username}.tokenScopesString`;this.storage.removeItem(n),this.storage.removeItem(e),this.storage.removeItem(s),this.storage.removeItem(o),this.storage.removeItem(i)}refreshSession(t){const n=this.getCognitoConstants().DOMAIN_SCHEME.concat(this.getCognitoConstants().COLONDOUBLESLASH,this.getAppWebDomain(),this.getCognitoConstants().SLASH,this.getCognitoConstants().TOKEN),e=this.getCognitoConstants().HEADER,s={grant_type:this.getCognitoConstants().REFRESHTOKEN,client_id:this.getClientId(),redirect_uri:this.RedirectUriSignIn,refresh_token:t},o=this.onSuccessRefreshToken.bind(this),i=this.onFailure.bind(this);this.makePOSTRequest(e,s,n,o,i)}makePOSTRequest(t,n,e,s,o){const i=this.createCORSRequest(this.getCognitoConstants().POST,e);let r="";if(i){if(t.length)for(let n=0;n<t.length;n++)i.setRequestHeader(n,t[n]);else for(let n in t)t.hasOwnProperty&&!t.hasOwnProperty(n)||i.setRequestHeader(n,t[n]);if(n.length)for(let t=0;t<n.length;t++)r=r.concat(t,this.getCognitoConstants().EQUALSIGN,n[t],this.getCognitoConstants().AMPERSAND);else for(let t in n)n.hasOwnProperty&&!n.hasOwnProperty(t)||(r=r.concat(t,this.getCognitoConstants().EQUALSIGN,n[t],this.getCognitoConstants().AMPERSAND));r=r.substring(0,r.length-1),i.send(r),i.onreadystatechange=function(){if(4===i.readyState){const t=i.responseText;200===i.status?i.onload=s(t):i.onerror=o(t)}}}}createCORSRequest(t,n){let e=new XMLHttpRequest;return e.open(t,n,!0),this.getCognitoConstants().WITHCREDENTIALS in e?e.open(t,n,!0):typeof XDomainRequest!==this.getCognitoConstants().UNDEFINED?(e=new XDomainRequest,e.open(t,n)):e=null,e}onFailure(t){this.userhandler.onFailure(t)}onSuccessRefreshToken(t){const n=JSON.parse(t);if(!Object.prototype.hasOwnProperty.call(n,this.getCognitoConstants().ERROR))return Object.prototype.hasOwnProperty.call(n,this.getCognitoConstants().IDTOKEN)&&this.signInUserSession.setIdToken(new i.a(n.id_token)),Object.prototype.hasOwnProperty.call(n,this.getCognitoConstants().ACCESSTOKEN)&&this.signInUserSession.setAccessToken(new o.a(n.access_token)),this.cacheTokensScopes(),this.userhandler.onSuccess(this.signInUserSession);{const t=this.getFQDNSignIn();this.launchUri(t)}}onSuccessExchangeForToken(t){const n=JSON.parse(t),e=new r.a,s=new o.a,a=new i.a;return Object.prototype.hasOwnProperty.call(n,this.getCognitoConstants().ERROR)?this.userhandler.onFailure(t):(Object.prototype.hasOwnProperty.call(n,this.getCognitoConstants().IDTOKEN)?this.signInUserSession.setIdToken(new i.a(n.id_token)):this.signInUserSession.setIdToken(a),Object.prototype.hasOwnProperty.call(n,this.getCognitoConstants().ACCESSTOKEN)?this.signInUserSession.setAccessToken(new o.a(n.access_token)):this.signInUserSession.setAccessToken(s),Object.prototype.hasOwnProperty.call(n,this.getCognitoConstants().REFRESHTOKEN)?this.signInUserSession.setRefreshToken(new r.a(n.refresh_token)):this.signInUserSession.setRefreshToken(e),this.cacheTokensScopes(),this.userhandler.onSuccess(this.signInUserSession))}launchUri(t){this.authWindowRef=window.open(t)}getSpaceSeperatedScopeString(){let t=this.signInUserSession.getTokenScopes().getScopes();return t=t.join(this.getCognitoConstants().SPACE),encodeURIComponent(t)}getFQDNSignIn(){const t=this.generateRandomString(this.getCognitoConstants().STATELENGTH,this.getCognitoConstants().STATEORIGINSTRING),n=this.getSpaceSeperatedScopeString();return this.getCognitoConstants().DOMAIN_SCHEME.concat(this.getCognitoConstants().COLONDOUBLESLASH,this.getAppWebDomain(),this.getCognitoConstants().SLASH,this.getCognitoConstants().DOMAIN_PATH_SIGNIN,this.getCognitoConstants().QUESTIONMARK,this.getCognitoConstants().DOMAIN_QUERY_PARAM_REDIRECT_URI,this.getCognitoConstants().EQUALSIGN,encodeURIComponent(this.RedirectUriSignIn),this.getCognitoConstants().AMPERSAND,this.getCognitoConstants().DOMAIN_QUERY_PARAM_RESPONSE_TYPE,this.getCognitoConstants().EQUALSIGN,this.responseType,this.getCognitoConstants().AMPERSAND,this.getCognitoConstants().CLIENT_ID,this.getCognitoConstants().EQUALSIGN,this.getClientId(),this.getCognitoConstants().AMPERSAND,this.getCognitoConstants().STATE,this.getCognitoConstants().EQUALSIGN,t,this.getCognitoConstants().AMPERSAND,this.getCognitoConstants().DOMAIN_QUERY_IDENTITY_PROVIDER,this.getCognitoConstants().EQUALSIGN,this.identityProvider?encodeURIComponent(this.identityProvider):"",this.getCognitoConstants().AMPERSAND,this.getCognitoConstants().SCOPE,this.getCognitoConstants().EQUALSIGN,n)}signOut(){const t=this.getFQDNSignOut();this.clearCachedTokensScopes(),this.launchUri(t),this.signInUserSession=new a.a}getFQDNSignOut(){return this.getCognitoConstants().DOMAIN_SCHEME.concat(this.getCognitoConstants().COLONDOUBLESLASH,this.getAppWebDomain(),this.getCognitoConstants().SLASH,this.getCognitoConstants().DOMAIN_PATH_SIGNOUT,this.getCognitoConstants().QUESTIONMARK,this.getCognitoConstants().DOMAIN_QUERY_PARAM_SIGNOUT_URI,this.getCognitoConstants().EQUALSIGN,encodeURIComponent(this.RedirectUriSignOut),this.getCognitoConstants().AMPERSAND,this.getCognitoConstants().CLIENT_ID,this.getCognitoConstants().EQUALSIGN,this.getClientId())}}n.a=g},function(t,n,e){"use strict";/*!
 * Amazon Cognito Auth SDK for JavaScript
 * Copyright 2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.

 * Licensed under the Apache License, Version 2.0 (the "License").
 * You may not use this file except in compliance with the License.
 * A copy of the License is located at
 *
 *         http://aws.amazon.com/apache2.0/
 *
 * or in the "license" file accompanying this file.
 * This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
 * OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions
 * and limitations under the License.
 */
const s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];class i{getNowString(){const t=new Date,n=o[t.getUTCDay()],e=s[t.getUTCMonth()],i=t.getUTCDate();let r=t.getUTCHours();r<10&&(r=`0${r}`);let a=t.getUTCMinutes();a<10&&(a=`0${a}`);let h=t.getUTCSeconds();return h<10&&(h=`0${h}`),`${n} ${e} ${i} ${r}:${a}:${h} UTC ${t.getUTCFullYear()}`}}n.a=i}])});